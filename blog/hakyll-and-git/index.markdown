<!---
title: Hakyll и Git
author: Симоненко Евгений А.
date: 2013-08-11
updating_date: 2013-08-31
tags: Hakyll, Git, WebDevelopment, SoftwareEngineering, Study
--->

# Hakyll и Git

[Hakyll]: http://jaspervdj.be/hakyll/

Эта заметка дополняет [предыдущую](/#!/blog/static-sites-and-git), в
которой я описываю работу с сервисами _Git_ в качестве хостингов для
статических сайтов, и содержит два замечания для тех, кто использует [Hakyll][].

## Замечание первое

Итак, если Вы работаете с _Hakyll_, то практичнее будет создать локальную
копию репозитория не в папке `_site` дерева каталогов проекта сайта, а в
отдельной папке, куда нужно будет скопировать файлы из папки `_site`. К чему
эти сложности? К тому, что по разным причинам бывает нужно проделывать команду

``` bash
site clean
```

которая, в частности, удаляет каталог `_site`.

Чаще всего это бывает при внесении изменений в `site.hs`.

Чтобы в репозиторий отправлялись только изменённые файлы, копируйте только их.
В противном случае _Git_ будет считать, что изменились все файлы, так как при
замене файл создаётся заново, а не переписывается.

## Замечание второе

Если Вы генерируете сайт с помощью _Hakyll_ (а впрочем не важно с помощью какой
системы именно), то почему бы не хранить исходные тексты сайта также на
_Git_-сервисе, только в отдельном репозитории? Последовательность работы с
репозиторием будет точно такой же, только на имя репозитория уже не будет
накладываться никаких ограничений. Есть только один нюанс. Так как при работе с
_Hakyll_ в дереве проекта сайта создаются различные временные файлы, то нужно
`git` как-то объяснить, что это не файлы репозитория. Делается это очень
просто: создайте в корне папки репозитория проекта файл `.gitignore` и
заполните его строками:

```
*.*~
*.exe
*.hi
*.o
_site
_cache
site
```

Пока всё!
